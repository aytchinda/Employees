{% extends 'base.html.twig' %}
{% block title %}Statistique des genre employees !{% endblock %}

{% block body %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<canvas id="myChart"></canvas>



<script>


var ctx = document.getElementById('myChart').getContext('2d');

   var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
           labels: {{ (topdepartments|map(department => department.departmentName)
           |merge(bottomdepartments|map(department => department.departmentName)))
           |json_encode|raw }},
            datasets: [{
                label: 'Nombre d\'employÃ©s  de femmes +',
                data: {{ topdepartments|map(department => department.count)|json_encode|raw }},
                backgroundColor: 'rgba(54, 162, 235, 0.6)',
                borderColor: 'rgba(54, 162, 235, 1)',
                borderWidth: 1
            }, 
                 {
                    label: 'Bottom Departments',
                    data: {{ bottomdepartments|map(department => department.count)|json_encode|raw }},
                    backgroundColor: 'rgba(255, 99, 132, 0.6)',
                    borderColor: 'rgba(255, 99, 132, 1)',
                    borderWidth: 1
                }
            ]
        },
        options: {
                scales: {
                y: {
                    beginAtZero: true,
                    stepSize: 1, 
                    ticks: {
                        precision: 0 
                    }
                }
            },
       
       
        }
    });
</script>

Dans ce script :
    {% endblock %}